<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Add New Student Score</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css">
    <style>
        body {
            padding-top: 50px;
        }

        .container {
            max-width: 800px;
        }
        
        /* Ensure the input fields align correctly */
        .form-check-label {
            padding-left: 0.5rem;
        }
    </style>
</head>

<body>
    <div class="container">
        <center>
            <h2>Add New Student Score</h2>
        </center>
        <div class="panel panel-default">
            <div class="panel-body">
                <form action="/add-score" method="POST" enctype="multipart/form-data">
                    
                    <div class="form-group row">
                        <label for="name_on_certificate" class="col-sm-4 col-form-label">Name on Certificate</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="name_on_certificate" name="name_on_certificate"
                                required>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="chinese_name" class="col-sm-4 col-form-label">Chinese Name</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="chinese_name" name="chinese_name">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="nationality" class="col-sm-4 col-form-label">Nationality</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="nationality" name="nationality">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="gender" class="col-sm-4 col-form-label">Gender</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="gender" name="gender">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="test_location" class="col-sm-4 col-form-label">Test Location</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="test_location" name="test_location">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="ticket_no" class="col-sm-4 col-form-label">Ticket No.</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="ticket_no" name="ticket_no">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="certificate_no" class="col-sm-4 col-form-label">Certificate No.</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="certificate_no" name="certificate_no">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="test_type" class="col-sm-4 col-form-label">Test Type</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="test_type" name="test_type">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="test_time" class="col-sm-4 col-form-label">Test Time</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="test_time" name="test_time">
                        </div>
                    </div>

                    <div class="form-group row" style="margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px;">
                        <label for="hsk_level_4_check" class="col-sm-4 col-form-label">HSK Level 4 (Written)</label>
                        <div class="col-sm-8 text-left">
                            <div class="form-check">
                                <input type="hidden" name="hsk_level_4" value="false"> 

                                <input class="form-check-input" type="checkbox" id="hsk_level_4_check" name="hsk_level_4" value="true" onchange="toggleHskFields()">
                                
                                <label class="form-check-label" for="hsk_level_4_check">
                                    Student took HSK Level 4 Written Exam
                                </label>
                            </div>
                        </div>
                    </div>

                    <div id="hsk-score-fields" style="display: none;">
                        <h4 style="text-align: center; margin-top: 10px; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px;">Written Scores</h4>

                        <div class="form-group row">
                            <label for="listening_score" class="col-sm-4 col-form-label">Listening Score</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="listening_score" name="listening_score">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="reading_score" class="col-sm-4 col-form-label">Reading Score</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="reading_score" name="reading_score">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="writing_score" class="col-sm-4 col-form-label">Writing Score</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="writing_score" name="writing_score">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="total_score" class="col-sm-4 col-form-label">Total Score (Written)</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="total_score" name="total_score">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="status" class="col-sm-4 col-form-label">Status (Written)</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="status" name="status">
                            </div>
                        </div>
                    </div>
                    <h4 style="text-align: center; margin-top: 20px; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px;">Oral Scores (HSKK)</h4>

                    <div class="form-group row">
                        <label for="oral_score" class="col-sm-4 col-form-label">Oral Score</label>
                        <div class="col-sm-8">
                            <input type="number" class="form-control" id="oral_score" name="oral_score">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="oral_status" class="col-sm-4 col-form-label">Oral Status</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="oral_status" name="oral_status">
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="profile_photo" class="col-sm-4 col-form-label">Profile Photo File</label>
                        <div class="col-sm-8">
                            <input type="file" class="form-control-file" id="profile_photo" name="profile_photo" accept="image/*">
                        </div>
                    </div>
                    
                    <div class="form-group row">
                        <label for="profile_photo_url" class="col-sm-4 col-form-label">Profile Photo URL (Fallback)</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="profile_photo_url" name="profile_photo_url">
                        </div>
                    </div>


                    <div class="form-group row">
                        <div class="col-sm-12 text-center" style="margin-top: 30px;">
                            <button type="submit" class="btn btn-primary btn-lg">Add Score</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            // Initial state: hide the fields when the page loads
            document.getElementById('hsk-score-fields').style.display = 'none';
        });

        function toggleHskFields() {
            const checkbox = document.getElementById('hsk_level_4_check');
            const hskFields = document.getElementById('hsk-score-fields');
            
            if (checkbox.checked) {
                hskFields.style.display = 'block'; // Show the inputs
            } else {
                hskFields.style.display = 'none';  // Hide the inputs
            }
        }
    </script>
</body>

</html>